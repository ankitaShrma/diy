<<<<<<< HEAD
/* eslint-disable unicorn/no-process-exit */
'use strict';
let updateNotifier = require('.');

const options = JSON.parse(process.argv[2]);

updateNotifier = new updateNotifier.UpdateNotifier(options);

updateNotifier.checkNpm().then(update => {
	// Only update the last update check time on success
=======
'use strict';
var updateNotifier = require('./');
var options = JSON.parse(process.argv[2]);
var updateNotifier = new updateNotifier.UpdateNotifier(options);

updateNotifier.checkNpm(function (err, update) {
	if (err) {
		process.exit(1);
	}

	// only update the last update check time on success
>>>>>>> ec8051100d234fe9175dcd73a88d8192aa153d52
	updateNotifier.config.set('lastUpdateCheck', Date.now());

	if (update.type && update.type !== 'latest') {
		updateNotifier.config.set('update', update);
	}

	// Call process exit explicitly to terminate the child process
<<<<<<< HEAD
	// Otherwise the child process will run forever, according to the Node.js docs
	process.exit();
}).catch(() => {
	process.exit(1);
=======
	// Otherwise the child process will run forever (according to nodejs docs)
	process.exit();
>>>>>>> ec8051100d234fe9175dcd73a88d8192aa153d52
});
